{"version":3,"sources":["components/ProtectedRoute.js","images/logo.svg","components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","images/edit-pen.svg","components/Card.js","components/Main.js","components/Login.js","components/Register.js","images/union-v.svg","images/union-x.svg","components/InfoTooltip.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","utils/utils.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["ProtectedRoute","Component","component","props","loggedIn","to","Header","userEmail","handleClickOut","handleLogoClick","showRegistration","moveToRegistration","moveToAuth","className","src","logo","alt","onClick","Footer","CurrentUser","React","createContext","Card","memo","currentUser","useContext","isOwnCard","card","owner","_id","isLikedCard","likes","some","someLike","cardDeleteButtonClassName","cardLikeButtonClassName","onCardClick","style","backgroundImage","link","backgroundSize","name","type","aria-label","onCardLike","value","length","onCardDelete","Main","avatar","editPen","onEditAvatar","about","onEditProfile","onAddPlace","cards","map","i","Login","useState","email","setEmail","password","setPassword","onSubmit","evt","preventDefault","handleLoginSubmit","placeholder","onChange","target","required","minLength","maxLength","clickSubmit","color","Register","handleRegistrationSubmit","handleComeIn","InfoTooltip","isOpen","onClose","validQuery","useEffect","handleEsc","key","document","addEventListener","removeEventListener","currentTarget","UnionV","UnionX","ImagePopup","PopupWithForm","title","buttonText","children","EditProfilePopup","setName","description","setDescription","onUpdateUser","id","EditAvatarPopup","newAvatarRef","useRef","current","onUpdateAvatar","reset","ref","AddPlacePopup","url","setUrl","api","headers","this","_url","_headers","res","ok","json","Promise","reject","status","statusText","a","fetch","_checkResponse","method","then","body","JSON","stringify","authorization","auth","localStorage","getItem","App","history","useHistory","setCurrentUser","setCards","setLoggedIn","setUserEmail","setValidQuery","infoTooltipOpen","setInfoTooltipOpen","setClickSubmit","setShowRegistration","token","checkToken","data","moveToMain","catch","err","console","log","getUserInfo","userData","getCards","dataCardList","slice","push","closeAllPopups","setIsEditAvatarPopupOpen","setIsAddPlacePopupOpen","setIsEditProfilePopupOpen","setSelectedCard","isEditProfilePopupOpen","isAddPlacePopupOpen","isEditAvatarPopupOpen","selectedCard","Provider","removeItem","exact","path","comeIn","setItem","checkIn","setTimeout","clickedCard","changeLikeCardStatus","returnedCard","deleteCard","filter","enteredUrl","setNewAvatar","enteredUserData","setUserInfo","cardData","saveNewCard","newCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e57c2fa2.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nfunction ProtectedRoute({ component: Component, ...props }) {\r\n    return (\r\n        <Route>\r\n            {props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />}\r\n        </Route>\r\n    );\r\n};\r\n\r\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/logo.5f3664ca.svg\";","import logo from '../images/logo.svg';\r\nimport React from 'react';\r\n\r\nfunction Header({ userEmail, loggedIn, handleClickOut, handleLogoClick, showRegistration, moveToRegistration, moveToAuth }) {\r\n\r\n    const clickLink = () => {\r\n        if (showRegistration) {\r\n            moveToRegistration();\r\n        } else {\r\n            moveToAuth();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <header className=\"header\">\r\n            <img className=\"header__logo\" src={logo} alt=\"логотип\" onClick={handleLogoClick} />\r\n            <div className=\"header__container-auth\">\r\n                {\r\n                    loggedIn ?\r\n                        <>\r\n                            <p className=\"header__email\">{userEmail}</p>\r\n                            <p className=\"header__button-auth\" onClick={handleClickOut}>Выйти</p>\r\n                        </>\r\n                        :\r\n                        <p className=\"header__button-auth\" onClick={clickLink}>\r\n                            {showRegistration ? 'Регистрация' : 'Войти'}\r\n                        </p>\r\n                }\r\n            </div>\r\n        </header >\r\n    );\r\n}\r\n\r\nexport default Header;","function Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nexport const CurrentUser = React.createContext();","export default __webpack_public_path__ + \"static/media/edit-pen.6c7bf054.svg\";","import React from 'react';\r\nimport { CurrentUser } from '../contexts/CurrentUserContext';\r\n\r\nconst Card = React.memo((props) => {\r\n\r\n    const currentUser = React.useContext(CurrentUser);\r\n    const isOwnCard = props.card.owner._id === currentUser._id;\r\n    const isLikedCard = props.card.likes.some(someLike => someLike._id === currentUser._id);\r\n    // консты для именения рендера корзины и лайка (в className): - v\r\n    const cardDeleteButtonClassName = (`card__basket ${!isOwnCard && 'card__basket_hidden'}`);\r\n    const cardLikeButtonClassName = (`card__like ${isLikedCard && 'card__like_click'}`);\r\n\r\n    const handleClick = () => {\r\n        props.onCardClick(props.card);\r\n    }\r\n\r\n    const handleLikeClick = () => {\r\n        props.onCardLike(props.card);\r\n    }\r\n\r\n    const handleDeleteClick = () => {\r\n        props.onCardDelete(props.card);\r\n    }\r\n\r\n    return (\r\n        <div className=\"card\">\r\n\r\n            <div\r\n                className=\"card__image\"\r\n                onClick={handleClick}\r\n                style={{\r\n                    backgroundImage: `url(${props.card.link})`,\r\n                    backgroundSize: 'cover',\r\n                }}>\r\n            </div>\r\n            <h2 className=\"card__caption\">{props.card.name}</h2>\r\n\r\n            <div className=\"card__like-area\">\r\n                <button\r\n                    className={cardLikeButtonClassName}\r\n                    type=\"button\"\r\n                    aria-label=\"поставим лайк\"\r\n                    onClick={handleLikeClick}\r\n                >\r\n                </button>\r\n                <p className=\"card__like-number\" value=\"like-number\">{props.card.likes.length}</p>\r\n            </div>\r\n\r\n            <button\r\n                className={cardDeleteButtonClassName}\r\n                type=\"button\"\r\n                aria-label=\"удаляем фотографию\"\r\n                onClick={handleDeleteClick}\r\n            >\r\n            </button>\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default Card;","import React from 'react';\r\nimport { CurrentUser } from '../contexts/CurrentUserContext';\r\nimport editPen from '../images/edit-pen.svg'\r\nimport Card from './Card'\r\n\r\nfunction Main(props) {\r\n\r\n    const currentUser = React.useContext(CurrentUser);\r\n\r\n    return (\r\n        <main>\r\n            <section className=\"profile\">\r\n                <div className=\"profile__avatar-container\">\r\n                    <div\r\n                        className=\"profile__photo\"\r\n                        style={{\r\n                            backgroundImage: `url(${currentUser && currentUser.avatar})`,\r\n                            backgroundSize: 'cover'\r\n                        }}\r\n                    >\r\n                    </div>\r\n                    <img\r\n                        className=\"profile__avatar-edit\"\r\n                        src={editPen}\r\n                        alt=\"изображение ручки-редактора\"\r\n                        onClick={props.onEditAvatar}\r\n                    />\r\n                </div>\r\n                <div className=\"profile__information\">\r\n                    <div className=\"profile__person\">\r\n                        <h1 className=\"profile__name\">{currentUser && currentUser.name}</h1>\r\n                        <p className=\"profile__activity\">{currentUser && currentUser.about}</p>\r\n                    </div>\r\n                    <button\r\n                        className=\"profile__editor-popup profile__click\"\r\n                        type=\"button\"\r\n                        aria-label=\"откроем редактор профиля пользователя\"\r\n                        onClick={props.onEditProfile}\r\n                    ></button>\r\n                </div>\r\n                <button\r\n                    className=\"profile__add-place profile__click\"\r\n                    aria-label=\"добавим фотографию\"\r\n                    type=\"button\"\r\n                    onClick={props.onAddPlace}\r\n                ></button>\r\n            </section>\r\n\r\n            <section className=\"places\">\r\n                {\r\n                    props.cards.map((card, i) => (\r\n                        <Card\r\n                            key={card._id}\r\n                            onCardClick={props.onCardClick}\r\n                            card={card}\r\n                            onCardLike={props.onCardLike}\r\n                            onCardDelete={props.onCardDelete}\r\n                        />\r\n                    ))\r\n                }\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Login(props) {\r\n\r\n    const [email, setEmail] = React.useState('');\r\n    const [password, setPassword] = React.useState('');\r\n\r\n    const handleSubmit = (evt) => {\r\n        evt.preventDefault();\r\n        props.handleLoginSubmit({ password, email });\r\n        setEmail('');\r\n        setPassword('');\r\n    }\r\n\r\n    const handleChangeEmail = (evt) => {\r\n        setEmail(evt.target.value);\r\n    }\r\n\r\n    const handleChangePassword = (evt) => {\r\n        setPassword(evt.target.value);\r\n    }\r\n\r\n    return (\r\n        <div className=\"access\">\r\n            <h2 className=\"access__titile\">Вход</h2>\r\n            <form className=\"access__form\" onSubmit={handleSubmit}>\r\n                <input\r\n                    name=\"email\"\r\n                    className=\"access__input\"\r\n                    type=\"email\"\r\n                    placeholder=\"Email\"\r\n                    value={email}\r\n                    onChange={handleChangeEmail}\r\n                    required\r\n                />\r\n                <input\r\n                    name=\"password\"\r\n                    className=\"access__input\"\r\n                    type=\"password\"\r\n                    placeholder=\"Пароль\"\r\n                    value={password}\r\n                    minLength=\"5\"\r\n                    maxLength=\"25\"\r\n                    onChange={handleChangePassword}\r\n                    required\r\n                />\r\n                {\r\n                    props.clickSubmit ?\r\n                        <button type=\"submit\" className=\"access__submit\" style={{ color: 'grey' }}>Отправляем...</button>\r\n                        :\r\n                        <button type=\"submit\" className=\"access__submit\">Войти</button>\r\n                }\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\r\n\r\nfunction Register(props) {\r\n\r\n    const [email, setEmail] = React.useState('');\r\n    const [password, setPassword] = React.useState('');\r\n\r\n    const handleSubmit = (evt) => {\r\n        evt.preventDefault();\r\n        props.handleRegistrationSubmit({ password, email });\r\n        setEmail('');\r\n        setPassword('');\r\n    }\r\n\r\n    const handleChangeEmail = (evt) => {\r\n        setEmail(evt.target.value);\r\n    }\r\n\r\n    const handleChangePassword = (evt) => {\r\n        setPassword(evt.target.value);\r\n    }\r\n\r\n    return (\r\n        <div className=\"access\">\r\n            <h2 className=\"access__titile\">Регистрация</h2>\r\n            <form className=\"access__form\" onSubmit={handleSubmit}>\r\n                <input\r\n                    name=\"email\"\r\n                    className=\"access__input\"\r\n                    type=\"email\"\r\n                    placeholder=\"Email\"\r\n                    value={email}\r\n                    onChange={handleChangeEmail}\r\n                    required\r\n                />\r\n                <input\r\n                    name=\"password\"\r\n                    className=\"access__input\"\r\n                    type=\"password\"\r\n                    placeholder=\"Пароль\"\r\n                    value={password}\r\n                    minLength=\"5\"\r\n                    maxLength=\"25\"\r\n                    onChange={handleChangePassword}\r\n                    required\r\n                />\r\n                {\r\n                    props.clickSubmit ?\r\n                        <button type=\"submit\" className=\"access__submit\" style={{ color: 'grey' }}>Отправляем...</button>\r\n                        :\r\n                        <button type=\"submit\" className=\"access__submit\">Зарегистрироваться</button>\r\n                }\r\n            </form>\r\n            <p className=\"access__isRegistrated\">Уже зарегистрированы?\r\n                <span className=\"access__welcome\" onClick={props.handleComeIn}>Войти</span>\r\n            </p>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Register;","export default __webpack_public_path__ + \"static/media/union-v.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/union-x.df8eddf6.svg\";","import React from 'react';\r\nimport UnionV from '../images/union-v.svg';\r\nimport UnionX from '../images/union-x.svg';\r\n\r\nfunction InfoTooltip({ isOpen, onClose, validQuery }) {\r\n\r\n    const handleFieldClick = (evt) => {\r\n        evt.target === evt.currentTarget && onClose();\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        const handleEsc = (evt) => {\r\n            evt.key === 'Escape' && onClose();\r\n        }\r\n\r\n        if (isOpen) {\r\n            document.addEventListener('keyup', handleEsc);\r\n        }\r\n\r\n        return () => {\r\n            document.removeEventListener('keyup', handleEsc);\r\n        };\r\n    }, [isOpen, onClose]);\r\n\r\n    return (\r\n        <div className={`popup popup-access ${isOpen && 'popup_active'}`} onClick={handleFieldClick}>\r\n            <div className=\"popup-access__container\">\r\n                {\r\n                    validQuery ?\r\n                        <>\r\n                            <img className=\"popup-access__success\" src={UnionV} alt=\"галочка\" />\r\n                            <p className=\"popup-access__notification\">Вы успешно зарегистрировались!</p>\r\n                        </>\r\n                        :\r\n                        <>\r\n                            <img className=\"popup-access__unsuccess\" src={UnionX} alt=\"крестик\" />\r\n                            <p className=\"popup-access__notification\">Что-то пошло не так! Попробуйте ещё раз.</p>\r\n                        </>\r\n                }\r\n\r\n                <button className=\"popup__close\" type=\"button\" aria-label=\"закроем\" onClick={onClose}></button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default InfoTooltip;","import React from 'react';\r\n\r\nfunction ImagePopup({ card, onClose }) {\r\n\r\n    const handleFieldClick = (evt) => {\r\n        evt.target === evt.currentTarget && onClose()\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        const handleEsc = (evt) => {\r\n            evt.key === 'Escape' && onClose()\r\n        }\r\n\r\n        if (card) {\r\n            document.addEventListener('keyup', handleEsc);\r\n        }\r\n\r\n        return () => {\r\n            document.removeEventListener('keyup', handleEsc);\r\n        };\r\n    }, [card, onClose]);\r\n\r\n    return (\r\n        <div className={`popup popup-image ${card ? 'popup_active' : ''}`} onClick={handleFieldClick}>\r\n            <div className=\"popup-image__container\">\r\n                <img className=\"popup-image__big-foto\" src={card && card.link} alt=\"увеличенное изображение выбранной карточки\" />\r\n                <h2 className=\"popup-image__caption\">{card && card.name}</h2>\r\n                <button className=\"popup__close\" type=\"button\" aria-label=\"закроем\" onClick={onClose}></button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\r\n\r\nfunction PopupWithForm({ title, name, isOpen, onClose, onSubmit, buttonText, children }) {\r\n\r\n    const handleFieldClick = (evt) => {\r\n        evt.target === evt.currentTarget && onClose()\r\n        // console.log(children)\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        const handleEsc = (evt) => {\r\n            evt.key === 'Escape' && onClose()\r\n        }\r\n\r\n        if (isOpen) {\r\n            document.addEventListener('keyup', handleEsc);\r\n        }\r\n\r\n        return () => {\r\n            document.removeEventListener('keyup', handleEsc);\r\n        };\r\n    },\r\n        [isOpen, onClose]);\r\n\r\n    return (\r\n        <div className={`popup popup_type_${name} ${isOpen && 'popup_active'}`} onClick={handleFieldClick}>\r\n            <div className=\"popup__container\">\r\n                <h2 className=\"popup__title\">{title}</h2>\r\n                <form className=\"popup__form\" name={`popup-form_type_${name}`} onSubmit={onSubmit}>\r\n                    {children}\r\n                    <button className=\"popup__submit\" type=\"submit\">{buttonText}</button>\r\n                </form>\r\n                <button className=\"popup__close\" type=\"button\" aria-label=\"закрыть форму\" onClick={onClose}>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUser } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n    const currentUser = React.useContext(CurrentUser);\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n\r\n    // после загрузки установить в форме имя и проф-ю\r\n    React.useEffect(() => {\r\n        if (currentUser) {                                          \r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n        }\r\n    }, [currentUser, props.isOpen]);\r\n\r\n    const handleNameInput = (evt) => {\r\n        setName(evt.target.value);\r\n    }\r\n\r\n    const handleDescriptionInput = (evt) => {\r\n        setDescription(evt.target.value);\r\n    }\r\n\r\n    const handleSubmit = (evt) => {\r\n        evt.preventDefault();\r\n        props.onUpdateUser({ name, about: description });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            title='Редактировать профиль'\r\n            name='editProfile'\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n            buttonText='Сохранить'\r\n        >\r\n            <input\r\n                id=\"username-input\"\r\n                name=\"name\"\r\n                value={name}\r\n                type=\"text\"\r\n                className=\"popup__input popup__input_type_name\"\r\n                placeholder=\"Имя пользователя\"\r\n                minLength=\"2\"\r\n                maxLength=\"40\"\r\n                onChange={handleNameInput}\r\n                required\r\n            />\r\n            <span className=\"username-input-error popup__input-error\"></span>\r\n            <input\r\n                id=\"useractivity-input\"\r\n                name=\"activity\"\r\n                value={description}\r\n                type=\"text\"\r\n                className=\"popup__input popup__input_type_activity\"\r\n                placeholder=\"Профессия\"\r\n                minLength=\"2\"\r\n                maxLength=\"200\"\r\n                onChange={handleDescriptionInput}\r\n                required\r\n            />\r\n            <span className=\"useractivity-input-error popup__input-error\"></span>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n    const newAvatarRef = React.useRef();\r\n\r\n    const handleSubmit = (evt) => {\r\n        evt.preventDefault();\r\n        newAvatarRef.current.value && props.onUpdateAvatar(newAvatarRef.current.value);\r\n        evt.target.reset();\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            title='Обновить аватар'\r\n            name='editAvatar'\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n            buttonText='Сохранить'\r\n        >\r\n            <input\r\n                id=\"url-avatar-input\"\r\n                name=\"link\"\r\n                type=\"url\"\r\n                className=\"popup__input popup__input_new-avatar\"\r\n                ref={newAvatarRef}\r\n                placeholder=\"Ссылка на изображение\"\r\n                required\r\n            />\r\n            <span className=\"url-avatar-input-error popup__input-error\"></span>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n    const [name, setName] = React.useState('');\r\n    const [url, setUrl] = React.useState('');\r\n\r\n    const handleNameInput = (evt) => {\r\n        setName(evt.target.value);\r\n    }\r\n\r\n    const handleUrlInput = (evt) => {\r\n        setUrl(evt.target.value);\r\n    }\r\n\r\n    const handleSubmit = (evt) => {\r\n        evt.preventDefault();\r\n        props.onAddPlace({ name, url });\r\n        // evt.target.reset(); // <= только с useRef\r\n        setName('');\r\n        setUrl('');\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            title='Новая карточка'\r\n            name='addPlace'\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n            buttonText='Создать'\r\n        >\r\n            <input\r\n                id=\"place-input\"\r\n                name=\"name\"\r\n                type=\"text\"\r\n                className=\"popup__input popup__input_type_place\"\r\n                placeholder=\"Название\"\r\n                value={name}\r\n                minLength=\"2\"\r\n                maxLength=\"30\"\r\n                onChange={handleNameInput}\r\n                required\r\n            />\r\n            <span className=\"place-input-error popup__input-error\"></span>\r\n            <input\r\n                id=\"url-input\"\r\n                name=\"link\"\r\n                type=\"url\"\r\n                className=\"popup__input popup__input_type_url\"\r\n                placeholder=\"Ссылка на картинку\"\r\n                value={url}\r\n                onChange={handleUrlInput}\r\n                required\r\n            />\r\n            <span className=\"url-input-error popup__input-error\"></span>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default AddPlacePopup;","import { token, urlFetch } from './utils.js';\r\n\r\nclass Api {\r\n    constructor({ url, headers }) {\r\n        this._url = url;\r\n        this._headers = headers;\r\n    }\r\n\r\n    _checkResponse(res) {\r\n        return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status} - ${res.statusText}`)\r\n    }\r\n\r\n    async getUserInfo() {\r\n        const res = await fetch(`${this._url}/users/me`, {\r\n            headers: this._headers\r\n        });\r\n        return this._checkResponse(res);\r\n    }\r\n\r\n    async changeLikeCardStatus(id, isLikedCard) {\r\n        if (!isLikedCard) {\r\n            const res = await fetch(`${this._url}/cards/likes/${id}`, {\r\n                method: 'PUT',\r\n                headers: this._headers\r\n            });\r\n            return this._checkResponse(res);\r\n        } else {\r\n            const res = await fetch(`${this._url}/cards/likes/${id}`, {\r\n                method: 'DELETE',\r\n                headers: this._headers\r\n            });\r\n            return this._checkResponse(res);\r\n        }\r\n    }\r\n\r\n    getCards() {\r\n        return fetch(`${this._url}/cards`, {\r\n            headers: this._headers\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n\r\n    deleteCard(id) {\r\n        return fetch(`${this._url}/cards/${id}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n\r\n    setUserInfo({ name, about }) {\r\n        return fetch(`${this._url}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                about: about\r\n            })\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n\r\n    saveNewCard({ name, url }) {\r\n        return fetch(`${this._url}/cards`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                link: url\r\n            })\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n\r\n    setNewAvatar(url) {\r\n        return fetch(`${this._url}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: url,\r\n            })\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n}\r\n\r\nconst api = new Api({         // <=  тут же создал экзмепляр, ниже экспорт\r\n    url: urlFetch,\r\n    headers: {\r\n        authorization: token,\r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\n\r\nexport default api;","// для API\r\nconst token = '0077ba4a-e2dd-4b84-9d2b-fc9f32407d03';\r\nconst urlFetch = 'https://mesto.nomoreparties.co/v1/cohort-24';\r\nconst urlAuth = 'https://auth.nomoreparties.co';\r\n\r\nexport { token, urlFetch, urlAuth };\r\n","import { urlAuth } from \"./utils\";\r\n\r\nclass Auth {\r\n    constructor({ url }) {\r\n        this._url = url;\r\n    }\r\n\r\n    _checkResponse(res) {\r\n        return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status} - ${res.statusText}`);\r\n    }\r\n\r\n    async checkIn({ password, email }) {\r\n        const res = await fetch(`${this._url}/signup`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                password: password,\r\n                email: email\r\n            })\r\n        });\r\n        return this._checkResponse(res);\r\n    }\r\n\r\n    async comeIn({ password, email }) {\r\n        const res = await fetch(`${this._url}/signin`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                password: password,\r\n                email: email\r\n            })\r\n        });\r\n        return this._checkResponse(res);\r\n    }\r\n\r\n    async checkToken() {\r\n        const res = await fetch(`${this._url}/users/me`, {\r\n            method: 'GET', \r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n            }\r\n        });\r\n        return this._checkResponse(res);\r\n    }\r\n}\r\n\r\nconst auth = new Auth({\r\n    url: urlAuth\r\n});\r\n\r\nexport default auth;","import React from 'react';\r\nimport { Route, Switch, useHistory } from 'react-router-dom';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport Header from './Header';\r\nimport Footer from './Footer';\r\nimport Main from './Main';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport ImagePopup from './ImagePopup';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport api from '../utils/api';\r\nimport auth from '../utils/auth';\r\nimport { CurrentUser } from '../contexts/CurrentUserContext';\r\n\r\nfunction App() {\r\n\r\n    const history = useHistory();\r\n    const [currentUser, setCurrentUser] = React.useState();\r\n    const [cards, setCards] = React.useState([]);\r\n    const [loggedIn, setLoggedIn] = React.useState(false);\r\n    const [userEmail, setUserEmail] = React.useState('');\r\n    const [validQuery, setValidQuery] = React.useState(false);\r\n    const [infoTooltipOpen, setInfoTooltipOpen] = React.useState(false);\r\n    const [clickSubmit, setClickSubmit] = React.useState(false);\r\n    const [showRegistration, setShowRegistration] = React.useState(true)\r\n\r\n    // проверка токена и отрисовка (при изме пути (history) или стейта (loggedIn))\r\n    React.useEffect(() => {\r\n        if (localStorage.token) {\r\n            auth.checkToken()\r\n                .then(data => {\r\n                    setLoggedIn(true);\r\n                    setUserEmail(data.data.email);\r\n                    moveToMain();\r\n                })\r\n                .catch(err => console.log(err))\r\n        }\r\n    }, [history, loggedIn]);\r\n\r\n    React.useEffect(() => {\r\n        api.getUserInfo()\r\n            .then(userData => {\r\n                setCurrentUser(userData);\r\n            })\r\n            .catch(err => console.log(err))\r\n    }, []);\r\n\r\n    React.useEffect(() => {\r\n        api.getCards()\r\n            .then(dataCardList => {\r\n                dataCardList = dataCardList.slice(0, 1);  // <=\r\n                setCards(dataCardList);\r\n            })\r\n            .catch(err => console.log(err))\r\n    }, []);\r\n\r\n    // авторизация при сабмите\r\n    const onLogin = ({ password, email }) => {\r\n        setClickSubmit(true);\r\n        auth.comeIn({ password, email })\r\n            .then((data) => {\r\n                if (data.token) {\r\n                    localStorage.setItem('token', data.token);\r\n                    setLoggedIn(true);\r\n                    setClickSubmit(false);\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                setValidQuery(false);\r\n                setInfoTooltipOpen(true);\r\n                setClickSubmit(false);\r\n            })\r\n    }\r\n\r\n    // клик на 'Выход' - удаление токена\r\n    const onSignOut = () => {\r\n        loggedIn && localStorage.removeItem('token');\r\n        moveToAuth();\r\n        setLoggedIn(false);\r\n    }\r\n\r\n    // регистрация при сабмите\r\n    const onRegister = ({ password, email }) => {\r\n        setClickSubmit(true);\r\n        auth.checkIn({ password, email })\r\n            .then((data) => {\r\n                if (data) {\r\n                    setValidQuery(true);\r\n                    setValidQuery && setInfoTooltipOpen(true);\r\n                    setTimeout(moveToAuth, 1500);\r\n                    setClickSubmit(false);\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                setValidQuery(false);\r\n                setInfoTooltipOpen(true);\r\n                setClickSubmit(false);\r\n            })\r\n    }\r\n\r\n    // пути\r\n    const moveToMain = () => {\r\n        if (loggedIn) {\r\n            history.push('/react-mesto-auth');\r\n        } else {\r\n            moveToAuth();\r\n        }\r\n    }\r\n\r\n    const moveToAuth = () => {\r\n        history.push('/react-mesto-auth/sign-in');\r\n        setShowRegistration(true);\r\n        if (setInfoTooltipOpen) {\r\n            setInfoTooltipOpen(false);\r\n            !setInfoTooltipOpen && setValidQuery(false);\r\n        }\r\n    }\r\n\r\n    const moveToRegistration = () => {\r\n        history.push('/react-mesto-auth/sign-up');\r\n        setShowRegistration(false);\r\n    }\r\n\r\n    const closeAllPopups = () => {\r\n        setIsEditAvatarPopupOpen(false);\r\n        setIsAddPlacePopupOpen(false);\r\n        setIsEditProfilePopupOpen(false);\r\n        setSelectedCard();\r\n        setInfoTooltipOpen(false);\r\n    }\r\n\r\n    const handleCardLike = (clickedCard) => {\r\n        const isLikedCard = clickedCard.likes.some(someLike => someLike._id === currentUser._id);\r\n        api.changeLikeCardStatus(clickedCard._id, isLikedCard)\r\n            .then((returnedCard) => {\r\n                setCards(\r\n                    cards.map(card =>\r\n                        card._id === returnedCard._id ? returnedCard : card\r\n                    )\r\n                );\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    const handleCardDelete = (clickedCard) => {\r\n        api.deleteCard(clickedCard._id)\r\n            .then(() => {\r\n                setCards(cards.filter(card => card._id !== clickedCard._id));\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    // обновление данных польз-ля\r\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n\r\n    const handleEditProfileClick = () => {\r\n        setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\r\n    }\r\n\r\n    const handleUpdateUser = (enteredUserData) => {\r\n        api.setUserInfo(enteredUserData)\r\n            .then(userData => {\r\n                setCurrentUser(userData);\r\n                closeAllPopups();\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    // добавление новой карточки \r\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n\r\n    const handleAddPlaceClick = () => {\r\n        setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\r\n    }\r\n\r\n    const handleAddPlaceSubmit = (cardData) => {\r\n        api.saveNewCard(cardData)\r\n            .then((newCard) => {\r\n                setCards([newCard, ...cards]);\r\n                closeAllPopups();\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    // изменение аватарки\r\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n\r\n    const handleEditAvatarClick = () => {\r\n        setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\r\n    }\r\n\r\n    const handleUpdateAvatar = (enteredUrl) => {\r\n        api.setNewAvatar(enteredUrl)\r\n            .then(userData => {\r\n                setCurrentUser(userData);\r\n                closeAllPopups();\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    // увеличенная фотография\r\n    const [selectedCard, setSelectedCard] = React.useState();\r\n\r\n    const handleCardClick = (card) => {\r\n        setSelectedCard(card);\r\n    }\r\n\r\n    return (\r\n        <CurrentUser.Provider value={currentUser}>\r\n            <div className=\"page\">\r\n                <Header\r\n                    userEmail={userEmail}\r\n                    loggedIn={loggedIn}\r\n                    handleClickOut={onSignOut}\r\n                    handleLogoClick={moveToMain}\r\n                    showRegistration={showRegistration}\r\n                    moveToRegistration={moveToRegistration}\r\n                    moveToAuth={moveToAuth}\r\n                />\r\n\r\n                <Switch>\r\n                    <Route exact path=\"/react-mesto-auth/sign-in\">\r\n                        <Login\r\n                            handleLoginSubmit={onLogin}\r\n                            clickSubmit={clickSubmit}\r\n                        />\r\n                    </Route>\r\n\r\n                    <Route exact path=\"/react-mesto-auth/sign-up\">\r\n                        <Register\r\n                            handleRegistrationSubmit={onRegister}\r\n                            handleComeIn={moveToAuth}\r\n                            clickSubmit={clickSubmit}\r\n                        />\r\n                    </Route>\r\n\r\n                    <ProtectedRoute\r\n                        path=\"/react-mesto-auth\"\r\n                        loggedIn={loggedIn}\r\n                        component={Main}\r\n                        onEditAvatar={handleEditAvatarClick}\r\n                        onAddPlace={handleAddPlaceClick}\r\n                        onEditProfile={handleEditProfileClick}\r\n                        onCardClick={handleCardClick}\r\n                        cards={cards}\r\n                        onCardLike={handleCardLike}\r\n                        onCardDelete={handleCardDelete}\r\n                    />\r\n                </Switch>\r\n\r\n                <EditAvatarPopup\r\n                    isOpen={isEditAvatarPopupOpen}\r\n                    onClose={closeAllPopups}\r\n                    onUpdateAvatar={handleUpdateAvatar}\r\n                />\r\n\r\n                <EditProfilePopup\r\n                    isOpen={isEditProfilePopupOpen}\r\n                    onClose={closeAllPopups}\r\n                    onUpdateUser={handleUpdateUser}\r\n                />\r\n\r\n                <AddPlacePopup\r\n                    isOpen={isAddPlacePopupOpen}\r\n                    onClose={closeAllPopups}\r\n                    onAddPlace={handleAddPlaceSubmit}\r\n                />\r\n\r\n                <ImagePopup\r\n                    card={selectedCard}\r\n                    onClose={closeAllPopups}\r\n                />\r\n\r\n                <InfoTooltip\r\n                    isOpen={infoTooltipOpen}\r\n                    onClose={closeAllPopups}\r\n                    validQuery={validQuery}\r\n                />\r\n\r\n                <Footer />\r\n            </div>\r\n        </CurrentUser.Provider>\r\n    );\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();"],"sourceRoot":""}