{"version":3,"sources":["components/ProtectedRoute.js","images/logo.svg","components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","images/edit-pen.svg","components/Card.js","components/Main.js","components/Login.js","components/Register.js","components/InfoTooltip.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/PopupWithConfirm.js","utils/utils.js","utils/api.js","utils/auth.js","images/union-v.svg","images/union-x.svg","components/App.js","reportWebVitals.js","index.js"],"names":["ProtectedRoute","Main","component","props","loggedIn","to","Header","userEmail","handleClickOut","handleLogoClick","location","useLocation","React","useState","showLink","setShowLink","useEffect","pathname","className","src","logo","alt","onClick","Footer","date","Date","getFullYear","CurrentUser","createContext","Card","memo","onCardClick","card","onCardLike","onCardDelete","currentUser","useContext","isOwnCard","owner","_id","isLikedCard","likes","some","someLike","cardDeleteButtonClassName","cardLikeButtonClassName","style","backgroundImage","link","name","type","aria-label","value","length","onEditAvatar","onAddPlace","onEditProfile","cards","cardListForRender","map","avatar","backgroundSize","editPen","about","Login","handleLoginSubmit","isSubmitting","email","setEmail","password","setPassword","onSubmit","evt","preventDefault","placeholder","onChange","target","required","minLength","maxLength","Register","handleRegistrationSubmit","InfoTooltip","isOpen","onClose","icon","notification","handleEsc","key","document","addEventListener","removeEventListener","currentTarget","ImagePopup","PopupWithForm","title","buttonText","children","EditProfilePopup","onUpdateUser","setName","description","setDescription","id","EditAvatarPopup","onUpdateAvatar","newAvatarRef","useRef","current","ref","AddPlacePopup","url","setUrl","PopupWithConfirm","handleClickConfirmButton","urlAuth","api","headers","this","_url","_headers","res","ok","json","Promise","reject","status","statusText","a","fetch","_checkResponse","method","then","body","JSON","stringify","authorization","checkResponse","register","authorize","checkToken","localStorage","getItem","App","history","useHistory","setCurrentUser","setCards","setLoggedIn","isAuthSuccess","setIsAuthSuccess","infoTooltipOpen","setInfoTooltipOpen","setIsSubmitting","setUserEmail","token","data","moveToMain","catch","err","console","log","all","getUserInfo","getCards","userData","dataCardList","slice","push","moveToAuth","closeAllPopups","setIsEditAvatarPopupOpen","setIsAddPlacePopupOpen","setIsEditProfilePopupOpen","setIsPopupWithDeleteCardConfirmOpen","setSelectedCard","isEditProfilePopupOpen","isAddPlacePopupOpen","isEditAvatarPopupOpen","isPopupWithDeleteCardConfirmOpen","removableCard","setRemovableCard","deleteCard","filter","finally","selectedCard","Provider","removeItem","exact","path","setItem","setTimeout","clickedCard","changeLikeCardStatus","returnedCard","enteredUrl","setNewAvatar","enteredUserData","setUserInfo","cardData","saveNewCard","newCard","UnionV","UnionX","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5afb4d5d.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nfunction ProtectedRoute({ component: Main, ...props }) {\r\n    return (\r\n        <Route>\r\n            {props.loggedIn ? <Main {...props} /> : <Redirect to=\"/sign-in\" />}\r\n        </Route>\r\n    );\r\n};\r\n\r\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/logo.5f3664ca.svg\";","import logo from '../images/logo.svg';\r\nimport React from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\n\r\nfunction Header({ userEmail, loggedIn, handleClickOut, handleLogoClick }) {\r\n\r\n    const location = useLocation(); // или > { pathname } = useLocation();\r\n    const [showLink, setShowLink] = React.useState('')\r\n\r\n    React.useEffect(() => {\r\n        location.pathname === '/sign-in' ? setShowLink('Регистрация') : setShowLink('Войти');\r\n    }, [location]);\r\n\r\n    return (\r\n        <header className=\"header\">\r\n            <img className=\"header__logo\" src={logo} alt=\"логотип\" onClick={handleLogoClick} />\r\n            {\r\n                loggedIn ?\r\n                    (\r\n                        <div className=\"header__container-auth\">\r\n                            <p className=\"header__email\">{userEmail}</p>\r\n                            <button className=\"header__button-out\" onClick={handleClickOut}>Выйти</button>\r\n                        </div>\r\n                    )\r\n                    :\r\n                    (\r\n                        <Link\r\n                            className=\"header__button-auth\"\r\n                            to={showLink === \"Регистрация\" ? \"/sign-up\" : \"/sign-in\"}\r\n                        >\r\n                            {showLink}\r\n                        </Link>\r\n                    )\r\n            }\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","function Footer() {\r\n\r\n    const date = new Date();\r\n\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy; {date.getFullYear()} Mesto Russia</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nexport const CurrentUser = React.createContext();","export default __webpack_public_path__ + \"static/media/edit-pen.6c7bf054.svg\";","import React from 'react';\r\nimport { CurrentUser } from '../contexts/CurrentUserContext';\r\n\r\nconst Card = React.memo(({ onCardClick, card, onCardLike, onCardDelete }) => {\r\n\r\n    const currentUser = React.useContext(CurrentUser);\r\n    const isOwnCard = card.owner._id === currentUser._id;\r\n    const isLikedCard = card.likes.some(someLike =>\r\n        someLike._id === currentUser._id);\r\n    // консты для именения рендера корзины и лайка (в className): - v\r\n    const cardDeleteButtonClassName = (`card__basket ${!isOwnCard && 'card__basket_hidden'}`);\r\n    const cardLikeButtonClassName = (`card__like ${isLikedCard && 'card__like_click'}`);\r\n\r\n    const handleClick = () => {\r\n        onCardClick(card);\r\n    }\r\n\r\n    const handleLikeClick = () => {\r\n        onCardLike(card);\r\n    }\r\n\r\n    const handleDeleteClick = () => {\r\n        onCardDelete(card);\r\n    }\r\n\r\n    return (\r\n        <div className=\"card\">\r\n\r\n            <div\r\n                className=\"card__image\"\r\n                onClick={handleClick}\r\n                style={{ backgroundImage: `url(${card.link})` }}>\r\n            </div>\r\n            <h2 className=\"card__caption\">{card.name}</h2>\r\n\r\n            <div className=\"card__like-area\">\r\n                <button\r\n                    className={cardLikeButtonClassName}\r\n                    type=\"button\"\r\n                    aria-label=\"поставим лайк\"\r\n                    onClick={handleLikeClick}\r\n                >\r\n                </button>\r\n                <p className=\"card__like-number\" value=\"like-number\">{card.likes.length}</p>\r\n            </div>\r\n\r\n            <button\r\n                className={cardDeleteButtonClassName}\r\n                type=\"button\"\r\n                aria-label=\"удаляем фотографию\"\r\n                onClick={handleDeleteClick}\r\n            >\r\n            </button>\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default Card;","import React from 'react';\r\nimport { CurrentUser } from '../contexts/CurrentUserContext';\r\nimport editPen from '../images/edit-pen.svg'\r\nimport Card from './Card'\r\n\r\nfunction Main({ onEditAvatar, onAddPlace, onEditProfile, onCardClick, cards, onCardLike, onCardDelete }) {\r\n\r\n    const currentUser = React.useContext(CurrentUser);\r\n\r\n    const cardListForRender = cards.map(card => (\r\n        <Card\r\n            key={card._id}  // служит подсказкой для React, но не передается в компонент\r\n            onCardClick={onCardClick}\r\n            card={card}\r\n            onCardLike={onCardLike}\r\n            onCardDelete={onCardDelete}\r\n        />\r\n    ));\r\n\r\n    return (\r\n        <main>\r\n            <section className=\"profile\">\r\n                <div className=\"profile__avatar-container\">\r\n                    <div\r\n                        className=\"profile__photo\"\r\n                        style={{\r\n                            backgroundImage: `url(${currentUser && currentUser.avatar})`,\r\n                            backgroundSize: 'cover'\r\n                        }}\r\n                    >\r\n                    </div>\r\n                    <img\r\n                        className=\"profile__avatar-edit\"\r\n                        src={editPen}\r\n                        alt=\"изображение ручки-редактора\"\r\n                        onClick={onEditAvatar}\r\n                    />\r\n                </div>\r\n                <div className=\"profile__information\">\r\n                    <div className=\"profile__person\">\r\n                        <h1 className=\"profile__name\">{currentUser && currentUser.name}</h1>\r\n                        <p className=\"profile__activity\">{currentUser && currentUser.about}</p>\r\n                    </div>\r\n                    <button\r\n                        className=\"profile__editor-popup profile__click\"\r\n                        type=\"button\"\r\n                        aria-label=\"откроем редактор профиля пользователя\"\r\n                        onClick={onEditProfile}\r\n                    ></button>\r\n                </div>\r\n                <button\r\n                    className=\"profile__add-place profile__click\"\r\n                    aria-label=\"добавим фотографию\"\r\n                    type=\"button\"\r\n                    onClick={onAddPlace}\r\n                ></button>\r\n            </section>\r\n\r\n            <section className=\"places\">\r\n                {cardListForRender}\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Login({ handleLoginSubmit, isSubmitting }) {\r\n\r\n    const [email, setEmail] = React.useState('');\r\n    const [password, setPassword] = React.useState('');\r\n\r\n    const handleSubmit = (evt) => {\r\n        evt.preventDefault();\r\n        handleLoginSubmit({ password, email });\r\n    }\r\n\r\n    const handleChangeEmail = (evt) => {\r\n        setEmail(evt.target.value);\r\n    }\r\n\r\n    const handleChangePassword = (evt) => {\r\n        setPassword(evt.target.value);\r\n    }\r\n\r\n    return (\r\n        <div className=\"access\">\r\n            <h2 className=\"access__titile\">Вход</h2>\r\n            <form className=\"access__form\" onSubmit={handleSubmit}>\r\n                <input\r\n                    name=\"email\"\r\n                    className=\"access__input\"\r\n                    type=\"email\"\r\n                    placeholder=\"Email\"\r\n                    value={email}\r\n                    onChange={handleChangeEmail}\r\n                    required\r\n                />\r\n                <input\r\n                    name=\"password\"\r\n                    className=\"access__input\"\r\n                    type=\"password\"\r\n                    placeholder=\"Пароль\"\r\n                    value={password}\r\n                    minLength=\"5\"\r\n                    maxLength=\"25\"\r\n                    onChange={handleChangePassword}\r\n                    required\r\n                />\r\n                <button type=\"submit\" className={`access__submit ${isSubmitting && 'access__submit_active'}`}>\r\n                    {isSubmitting ? 'Отправляем...' : 'Войти'}\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Register({ handleRegistrationSubmit, isSubmitting }) {\r\n\r\n    const [email, setEmail] = React.useState('');\r\n    const [password, setPassword] = React.useState('');\r\n\r\n    const handleSubmit = (evt) => {\r\n        evt.preventDefault();\r\n        handleRegistrationSubmit({ password, email });\r\n    }\r\n\r\n    const handleChangeEmail = (evt) => {\r\n        setEmail(evt.target.value);\r\n    }\r\n\r\n    const handleChangePassword = (evt) => {\r\n        setPassword(evt.target.value);\r\n    }\r\n\r\n    return (\r\n        <div className=\"access\">\r\n            <h2 className=\"access__titile\">Регистрация</h2>\r\n            <form className=\"access__form\" onSubmit={handleSubmit}>\r\n                <input\r\n                    name=\"email\"\r\n                    className=\"access__input\"\r\n                    type=\"email\"\r\n                    placeholder=\"Email\"\r\n                    value={email}\r\n                    onChange={handleChangeEmail}\r\n                    required\r\n                />\r\n                <input\r\n                    name=\"password\"\r\n                    className=\"access__input\"\r\n                    type=\"password\"\r\n                    placeholder=\"Пароль\"\r\n                    value={password}\r\n                    minLength=\"5\"\r\n                    maxLength=\"25\"\r\n                    onChange={handleChangePassword}\r\n                    required\r\n                />\r\n                <button type=\"submit\" className={`access__submit ${isSubmitting && 'access__submit_active'}`}>\r\n                    {isSubmitting ? 'Отправляем...' : 'Зарегистрироваться'}\r\n                </button>\r\n            </form>\r\n            <p className=\"access__isRegistrated\">Уже зарегистрированы?\r\n                <Link className=\"access__welcome\" to='/sign-in'>Войти</Link>\r\n            </p>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Register;","import React from 'react';\r\n\r\nfunction InfoTooltip({ isOpen, onClose, icon, notification }) {\r\n\r\n    const handleFieldClick = (evt) => {\r\n        evt.target === evt.currentTarget && onClose();\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        const handleEsc = (evt) => {\r\n            evt.key === 'Escape' && onClose();\r\n        }\r\n\r\n        isOpen && document.addEventListener('keyup', handleEsc);\r\n\r\n        return () => {\r\n            document.removeEventListener('keyup', handleEsc);\r\n        };\r\n    }, [isOpen]);\r\n\r\n    return (\r\n        <div className={`popup popup-access ${isOpen && 'popup_active'}`} onClick={handleFieldClick}>\r\n            <div className=\"popup-access__container\">\r\n                <img className=\"popup-access__success\" src={icon} alt={notification} />\r\n                <p className=\"popup-access__notification\">{notification}</p>\r\n                <button className=\"popup__close\" type=\"button\" aria-label=\"закроем\" onClick={onClose}></button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default InfoTooltip;","import React from 'react';\r\n\r\nfunction ImagePopup({ card, onClose }) {\r\n\r\n    const handleFieldClick = (evt) => {\r\n        evt.target === evt.currentTarget && onClose()\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        const handleEsc = (evt) => {\r\n            evt.key === 'Escape' && onClose()\r\n        }\r\n\r\n        card && document.addEventListener('keyup', handleEsc);\r\n\r\n        return () => {\r\n            document.removeEventListener('keyup', handleEsc);\r\n        };\r\n    }, [card]);\r\n\r\n    return (\r\n        <div className={`popup popup-image ${card ? 'popup_active' : ''}`} onClick={handleFieldClick}>\r\n            <div className=\"popup-image__container\">\r\n                <img className=\"popup-image__big-foto\" src={card && card.link} alt=\"увеличенное изображение выбранной карточки\" />\r\n                <h2 className=\"popup-image__caption\">{card && card.name}</h2>\r\n                <button className=\"popup__close\" type=\"button\" aria-label=\"закроем\" onClick={onClose}></button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\r\n\r\nfunction PopupWithForm({ title, name, isOpen, onClose, onSubmit, buttonText, children }) {\r\n\r\n    const handleFieldClick = (evt) => {\r\n        evt.target === evt.currentTarget && onClose()\r\n        // console.log(children)\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        const handleEsc = (evt) => {\r\n            evt.key === 'Escape' && onClose()\r\n        }\r\n\r\n        isOpen && document.addEventListener('keyup', handleEsc);\r\n\r\n        return () => {\r\n            document.removeEventListener('keyup', handleEsc);\r\n        };\r\n    }, [isOpen]);\r\n\r\n    return (\r\n        <div className={`popup popup_type_${name} ${isOpen && 'popup_active'}`} onClick={handleFieldClick}>\r\n            <div className=\"popup__container\">\r\n                <h2 className=\"popup__title\">{title}</h2>\r\n                <form className=\"popup__form\" name={`popup-form_type_${name}`} onSubmit={onSubmit}>\r\n                    {children}\r\n                    <button className=\"popup__submit\" type=\"submit\">{buttonText}</button>\r\n                </form>\r\n                <button className=\"popup__close\" type=\"button\" aria-label=\"закрыть форму\" onClick={onClose}>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUser } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isSubmitting }) {\r\n\r\n    const currentUser = React.useContext(CurrentUser);\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n\r\n    // после загрузки установить в форме имя и проф-ю\r\n    React.useEffect(() => {\r\n        if (currentUser) {\r\n            setName(currentUser.name);\r\n            setDescription(currentUser.about);\r\n        }\r\n    }, [currentUser, isOpen]);\r\n\r\n    const handleNameInput = (evt) => {\r\n        setName(evt.target.value);\r\n    }\r\n\r\n    const handleDescriptionInput = (evt) => {\r\n        setDescription(evt.target.value);\r\n    }\r\n\r\n    const handleSubmit = (evt) => {\r\n        evt.preventDefault();\r\n        onUpdateUser({ name, about: description });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            title='Редактировать профиль'\r\n            name='editProfile'\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            buttonText={isSubmitting ? 'Сохраняем...' : 'Сохранить'}\r\n        >\r\n            <input\r\n                id=\"username-input\"\r\n                name=\"name\"\r\n                value={name}\r\n                type=\"text\"\r\n                className=\"popup__input popup__input_type_name\"\r\n                placeholder=\"Имя пользователя\"\r\n                minLength=\"2\"\r\n                maxLength=\"40\"\r\n                onChange={handleNameInput}\r\n                required\r\n            />\r\n            <span className=\"username-input-error popup__input-error\"></span>\r\n            <input\r\n                id=\"useractivity-input\"\r\n                name=\"activity\"\r\n                value={description}\r\n                type=\"text\"\r\n                className=\"popup__input popup__input_type_activity\"\r\n                placeholder=\"Профессия\"\r\n                minLength=\"2\"\r\n                maxLength=\"200\"\r\n                onChange={handleDescriptionInput}\r\n                required\r\n            />\r\n            <span className=\"useractivity-input-error popup__input-error\"></span>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isSubmitting }) {\r\n\r\n    const newAvatarRef = React.useRef();\r\n\r\n    React.useEffect(() => {\r\n        if (!isOpen) {\r\n            newAvatarRef.current.value=''\r\n        }\r\n    }, [isOpen]);\r\n\r\n    const handleSubmit = (evt) => {\r\n        evt.preventDefault();\r\n        newAvatarRef.current.value && onUpdateAvatar(newAvatarRef.current.value);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            title='Обновить аватар'\r\n            name='editAvatar'\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            buttonText={isSubmitting ? 'Сохраняем...' : 'Сохранить'}\r\n        >\r\n            <input\r\n                id=\"url-avatar-input\"\r\n                name=\"link\"\r\n                type=\"url\"\r\n                className=\"popup__input popup__input_new-avatar\"\r\n                ref={newAvatarRef}\r\n                placeholder=\"Ссылка на изображение\"\r\n                required\r\n            />\r\n            <span className=\"url-avatar-input-error popup__input-error\"></span>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, isSubmitting }) {\r\n\r\n    const [name, setName] = React.useState('');\r\n    const [url, setUrl] = React.useState('');\r\n\r\n    React.useEffect(() => {\r\n        if (!isOpen) {\r\n            setName('');\r\n            setUrl('');\r\n        }\r\n    }, [isOpen]);\r\n\r\n    const handleNameInput = (evt) => {\r\n        setName(evt.target.value);\r\n    }\r\n\r\n    const handleUrlInput = (evt) => {\r\n        setUrl(evt.target.value);\r\n    }\r\n\r\n    const handleSubmit = (evt) => {\r\n        evt.preventDefault();\r\n        onAddPlace({ name, url });\r\n        // evt.target.reset(); // <= только с useRef\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            title='Новая карточка'\r\n            name='addPlace'\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            buttonText={isSubmitting ? 'Создаем...' : 'Создать'}\r\n        >\r\n            <input\r\n                id=\"place-input\"\r\n                name=\"name\"\r\n                type=\"text\"\r\n                className=\"popup__input popup__input_type_place\"\r\n                placeholder=\"Название\"\r\n                value={name}\r\n                minLength=\"2\"\r\n                maxLength=\"30\"\r\n                onChange={handleNameInput}\r\n                required\r\n            />\r\n            <span className=\"place-input-error popup__input-error\"></span>\r\n            <input\r\n                id=\"url-input\"\r\n                name=\"link\"\r\n                type=\"url\"\r\n                className=\"popup__input popup__input_type_url\"\r\n                placeholder=\"Ссылка на картинку\"\r\n                value={url}\r\n                onChange={handleUrlInput}\r\n                required\r\n            />\r\n            <span className=\"url-input-error popup__input-error\"></span>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction PopupWithConfirm({ isOpen, onClose, handleClickConfirmButton, isSubmitting }) {\r\n\r\n    return (\r\n        <PopupWithForm\r\n            title='Вы уверены?'\r\n            name='confirmDelete'\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleClickConfirmButton}\r\n            buttonText={isSubmitting ? 'Удаляем...' : 'Да'}\r\n        />\r\n    )\r\n}\r\n\r\nexport default PopupWithConfirm;","// для API\r\nconst token = '0077ba4a-e2dd-4b84-9d2b-fc9f32407d03';\r\nconst urlFetch = 'https://mesto.nomoreparties.co/v1/cohort-24';\r\nconst urlAuth = 'https://auth.nomoreparties.co';\r\n\r\nexport { token, urlFetch, urlAuth };\r\n","import { token, urlFetch } from './utils.js';\r\n\r\nclass Api {\r\n    constructor({ url, headers }) {\r\n        this._url = url;\r\n        this._headers = headers;\r\n    }\r\n\r\n    _checkResponse(res) {\r\n        return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status} - ${res.statusText}`)\r\n    }\r\n\r\n    async getUserInfo() {\r\n        const res = await fetch(`${this._url}/users/me`, {\r\n            headers: this._headers\r\n        });\r\n        return this._checkResponse(res);\r\n    }\r\n\r\n    async changeLikeCardStatus(id, isLikedCard) {\r\n        if (!isLikedCard) {\r\n            const res = await fetch(`${this._url}/cards/likes/${id}`, {\r\n                method: 'PUT',\r\n                headers: this._headers\r\n            });\r\n            return this._checkResponse(res);\r\n        } else {\r\n            const res = await fetch(`${this._url}/cards/likes/${id}`, {\r\n                method: 'DELETE',\r\n                headers: this._headers\r\n            });\r\n            return this._checkResponse(res);\r\n        }\r\n    }\r\n\r\n    getCards() {\r\n        return fetch(`${this._url}/cards`, {\r\n            headers: this._headers\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n\r\n    deleteCard(id) {\r\n        return fetch(`${this._url}/cards/${id}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n\r\n    setUserInfo({ name, about }) {\r\n        return fetch(`${this._url}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                about: about\r\n            })\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n\r\n    saveNewCard({ name, url }) {\r\n        return fetch(`${this._url}/cards`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                link: url\r\n            })\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n\r\n    setNewAvatar(url) {\r\n        return fetch(`${this._url}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: url,\r\n            })\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n}\r\n\r\nconst api = new Api({         // <=  тут же создал экзмепляр, ниже экспорт\r\n    url: urlFetch,\r\n    headers: {\r\n        authorization: token,\r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\n\r\nexport default api;","import { urlAuth } from \"./utils\";\r\n\r\n    const checkResponse = (res) => {\r\n        return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status} - ${res.statusText}`);\r\n    }\r\n\r\n    export const register = async ({ password, email }) => {\r\n        const res = await fetch(`${urlAuth}/signup`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                password: password,\r\n                email: email\r\n            })\r\n        });\r\n        return checkResponse(res);\r\n    }\r\n\r\n    export const authorize = async ({ password, email }) => {\r\n        const res = await fetch(`${urlAuth}/signin`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                password: password,\r\n                email: email\r\n            })\r\n        });\r\n        return checkResponse(res);\r\n    }\r\n\r\n    export const checkToken = async () => {\r\n        const res = await fetch(`${urlAuth}/users/me`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n            }\r\n        });\r\n        return checkResponse(res);\r\n    }","export default __webpack_public_path__ + \"static/media/union-v.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/union-x.df8eddf6.svg\";","import React from 'react';\r\nimport { Route, Switch, useHistory } from 'react-router-dom';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport Header from './Header';\r\nimport Footer from './Footer';\r\nimport Main from './Main';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport ImagePopup from './ImagePopup';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport PopupWithConfirm from './PopupWithConfirm'\r\nimport api from '../utils/api';\r\nimport { register, authorize, checkToken } from '../utils/auth';\r\nimport { CurrentUser } from '../contexts/CurrentUserContext';\r\nimport UnionV from '../images/union-v.svg';\r\nimport UnionX from '../images/union-x.svg';\r\n\r\nfunction App() {\r\n\r\n    const history = useHistory();\r\n    const [currentUser, setCurrentUser] = React.useState();\r\n    const [cards, setCards] = React.useState([]);\r\n    const [loggedIn, setLoggedIn] = React.useState(false);\r\n    const [isAuthSuccess, setIsAuthSuccess] = React.useState(false);\r\n    const [infoTooltipOpen, setInfoTooltipOpen] = React.useState(false);\r\n    const [isSubmitting, setIsSubmitting] = React.useState(false);\r\n    const [userEmail, setUserEmail] = React.useState('');\r\n\r\n    // проверка токена\r\n    React.useEffect(() => {\r\n        if (localStorage.token) {\r\n            checkToken()\r\n                .then((res) => {\r\n                    setLoggedIn(true);\r\n                    setUserEmail(res.data.email);\r\n                    moveToMain();\r\n                })\r\n                .catch(err => console.log(err))\r\n        }\r\n    }, []);\r\n\r\n    React.useEffect(() => {\r\n        Promise.all([api.getUserInfo(), api.getCards()])\r\n            .then(([userData, dataCardList]) => {\r\n\r\n                setCurrentUser(userData);\r\n\r\n                dataCardList = dataCardList.slice(0, 6);  // <<<===\r\n                setCards(dataCardList);\r\n            })\r\n            .catch(err => console.log(err))\r\n    }, []);\r\n\r\n    // авторизация при сабмите\r\n    const onLogin = ({ password, email }) => {\r\n        setIsSubmitting(true);\r\n        authorize({ password, email })\r\n            .then((data) => {\r\n                if (data.token) {\r\n                    localStorage.setItem('token', data.token);\r\n                    setUserEmail(email);\r\n                    setLoggedIn(true);\r\n                    moveToMain();\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                setIsAuthSuccess(false);\r\n                setInfoTooltipOpen(true);\r\n            })\r\n            .finally(() => setIsSubmitting(false))\r\n    }\r\n\r\n    // клик на 'Выход' - удаление токена\r\n    const onSignOut = () => {\r\n        localStorage.removeItem('token');\r\n        setUserEmail('');\r\n        moveToAuth();\r\n        setLoggedIn(false);\r\n    }\r\n\r\n    // регистрация при сабмите\r\n    const onRegister = ({ password, email }) => {\r\n        setIsSubmitting(true);\r\n        register({ password, email })\r\n            .then(() => {\r\n                setIsAuthSuccess(true);\r\n                setTimeout(moveToAuth, 2000);\r\n                setTimeout(() => setInfoTooltipOpen(false), 2100);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                setInfoTooltipOpen(true);\r\n                setIsAuthSuccess(false);\r\n            })\r\n            .finally(() => {\r\n                setIsSubmitting(false)\r\n                setInfoTooltipOpen(true);\r\n            })\r\n    }\r\n\r\n    // пути\r\n    const moveToMain = () => {\r\n        history.push('/');\r\n    }\r\n\r\n    const moveToAuth = () => {\r\n        history.push('/sign-in');\r\n    }\r\n\r\n    const closeAllPopups = () => {\r\n        setIsEditAvatarPopupOpen(false);\r\n        setIsAddPlacePopupOpen(false);\r\n        setIsEditProfilePopupOpen(false);\r\n        setIsPopupWithDeleteCardConfirmOpen(false);\r\n        setSelectedCard();\r\n        setInfoTooltipOpen(false);\r\n    }\r\n\r\n    const handleCardLike = (clickedCard) => {\r\n        const isLikedCard = clickedCard.likes.some(someLike => someLike._id === currentUser._id);\r\n        api.changeLikeCardStatus(clickedCard._id, isLikedCard)\r\n            .then((returnedCard) => {\r\n                setCards(\r\n                    cards.map(card =>\r\n                        card._id === returnedCard._id ? returnedCard : card\r\n                    )\r\n                );\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    // обновление данных польз-ля\r\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n\r\n    const handleEditProfileClick = () => {\r\n        setIsEditProfilePopupOpen(true);\r\n    }\r\n\r\n    const handleUpdateUser = (enteredUserData) => {\r\n        setIsSubmitting(true);\r\n        api.setUserInfo(enteredUserData)\r\n            .then(userData => {\r\n                setCurrentUser(userData);\r\n                closeAllPopups();\r\n            })\r\n            .catch(err => console.log(err))\r\n            .finally(() => setIsSubmitting(false))\r\n    }\r\n\r\n    // добавление новой карточки \r\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n\r\n    const handleAddPlaceClick = () => {\r\n        setIsAddPlacePopupOpen(true);\r\n    }\r\n\r\n    const handleAddPlaceSubmit = (cardData) => {\r\n        setIsSubmitting(true);\r\n        api.saveNewCard(cardData)\r\n            .then((newCard) => {\r\n                setCards([newCard, ...cards]);\r\n                closeAllPopups();\r\n            })\r\n            .catch(err => console.log(err))\r\n            .finally(() => setIsSubmitting(false))\r\n    }\r\n\r\n    // изменение аватарки\r\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n\r\n    const handleEditAvatarClick = () => {\r\n        setIsEditAvatarPopupOpen(true);\r\n    }\r\n\r\n    const handleUpdateAvatar = (enteredUrl) => {\r\n        setIsSubmitting(true)\r\n        api.setNewAvatar(enteredUrl)\r\n            .then(userData => {\r\n                setCurrentUser(userData);\r\n                closeAllPopups();\r\n            })\r\n            .catch(err => console.log(err))\r\n            .finally(() => setIsSubmitting(false))\r\n    }\r\n\r\n    //  удаление карточки\r\n    const [isPopupWithDeleteCardConfirmOpen, setIsPopupWithDeleteCardConfirmOpen] = React.useState(false);\r\n    const [removableCard, setRemovableCard] = React.useState(null)\r\n\r\n    // из Card.js\r\n    const handleCardDelete = (clickedCard) => {\r\n        setIsPopupWithDeleteCardConfirmOpen(true);\r\n        setRemovableCard(clickedCard);\r\n    }\r\n\r\n    // из PopupWithConfirm.js\r\n    const handleClickConfirmButton = (evt) => {\r\n        evt.preventDefault();\r\n        deleteCard();\r\n    }\r\n\r\n    const deleteCard = () => {\r\n        setIsSubmitting(true);\r\n        api.deleteCard(removableCard._id)\r\n            .then(() => {\r\n                setCards(\r\n                    cards.filter(card =>\r\n                        card._id !== removableCard._id));\r\n                closeAllPopups();\r\n            })\r\n            .catch(err => console.log(err))\r\n            .finally(() => {\r\n                setRemovableCard('')\r\n                setIsSubmitting(false)\r\n            })\r\n    }\r\n\r\n    // увеличенная фотография\r\n    const [selectedCard, setSelectedCard] = React.useState();\r\n\r\n    const handleCardClick = (card) => {\r\n        setSelectedCard(card);\r\n    }\r\n\r\n    return (\r\n        <CurrentUser.Provider value={currentUser}>\r\n            <div className=\"page\">\r\n                <Header\r\n                    userEmail={userEmail}\r\n                    loggedIn={loggedIn}\r\n                    handleClickOut={onSignOut}\r\n                    handleLogoClick={moveToMain}\r\n                />\r\n\r\n                <Switch>\r\n                    <Route exact path=\"/sign-in\">\r\n                        <Login\r\n                            handleLoginSubmit={onLogin}\r\n                            isSubmitting={isSubmitting}\r\n                        />\r\n                    </Route>\r\n\r\n                    <Route exact path=\"/sign-up\">\r\n                        <Register\r\n                            handleRegistrationSubmit={onRegister}\r\n                            isSubmitting={isSubmitting}\r\n                        />\r\n                    </Route>\r\n\r\n                    <ProtectedRoute path=\"\"\r\n                        loggedIn={loggedIn}\r\n                        component={Main}\r\n                        onEditAvatar={handleEditAvatarClick}\r\n                        onAddPlace={handleAddPlaceClick}\r\n                        onEditProfile={handleEditProfileClick}\r\n                        onCardClick={handleCardClick}\r\n                        cards={cards}\r\n                        onCardLike={handleCardLike}\r\n                        onCardDelete={handleCardDelete}\r\n                    />\r\n                </Switch>\r\n\r\n                <EditAvatarPopup\r\n                    isOpen={isEditAvatarPopupOpen}\r\n                    onClose={closeAllPopups}\r\n                    onUpdateAvatar={handleUpdateAvatar}\r\n                    isSubmitting={isSubmitting}\r\n                />\r\n\r\n                <EditProfilePopup\r\n                    isOpen={isEditProfilePopupOpen}\r\n                    onClose={closeAllPopups}\r\n                    onUpdateUser={handleUpdateUser}\r\n                    isSubmitting={isSubmitting}\r\n                />\r\n\r\n                <AddPlacePopup\r\n                    isOpen={isAddPlacePopupOpen}\r\n                    onClose={closeAllPopups}\r\n                    onAddPlace={handleAddPlaceSubmit}\r\n                    isSubmitting={isSubmitting}\r\n                />\r\n\r\n                <ImagePopup\r\n                    card={selectedCard}\r\n                    onClose={closeAllPopups}\r\n                />\r\n\r\n                <PopupWithConfirm\r\n                    isOpen={isPopupWithDeleteCardConfirmOpen}\r\n                    onClose={closeAllPopups}\r\n                    handleClickConfirmButton={handleClickConfirmButton}\r\n                    isSubmitting={isSubmitting}\r\n                />\r\n\r\n                <InfoTooltip\r\n                    isOpen={infoTooltipOpen}\r\n                    onClose={closeAllPopups}\r\n                    isAuthSuccess={isAuthSuccess}\r\n                    icon=\r\n                    {\r\n                        isAuthSuccess ?\r\n                            UnionV : UnionX\r\n                    }\r\n\r\n                    notification=\r\n                    {\r\n                        isAuthSuccess ?\r\n                            'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'\r\n                    }\r\n                />\r\n\r\n                <Footer />\r\n            </div>\r\n        </CurrentUser.Provider>\r\n    );\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();"],"sourceRoot":""}